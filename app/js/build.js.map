{"version":3,"sources":["app.js"],"names":["VK","init","apiId","users","Promise","resolve","reject","Auth","login","response","session","console","log","then","api","fields","name_case","answer","window","createUserBlock","firstFriendInput","document","querySelector","addEventListener","event","searchFriend","value","newArrayOfUsers","filterUsers","toLowerCase","usersBlock","innerHTML","docFragment","createDocumentFragment","forEach","user","div","createElement","classList","add","draggable","setAttribute","photo_100","first_name","last_name","appendChild","array","filteredArray","indexOf","push","friendsInList","preventDefault"],"mappings":"AAAA;;AAEAA,GAAGC,IAAH,CAAQ;AACNC,SAAO;AADD,CAAR;;AAIA,IAAIC,cAAJ;;AAEA,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC/BN,KAAGO,IAAH,CAAQC,KAAR,CAAc,UAASC,QAAT,EAAmB;AAC/B,QAAGA,SAASC,OAAZ,EAAqB;AACnBC,cAAQC,GAAR,CAAYH,QAAZ;AACAJ;AACD,KAHD,MAGO;AACLM,cAAQC,GAAR,CAAYH,QAAZ;AACAH;AACD;AACF,GARD,EAQG,IAAI,CARP;AASD,CAVD,EAUGO,IAVH,CAUQ,YAAM;AACZ,SAAO,IAAIT,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCN,OAAGc,GAAH,CAAO,aAAP,EAAsB,EAACC,QAAQ,WAAT,EAAsBC,WAAW,KAAjC,EAAtB,EAA+D,UAASC,MAAT,EAAiB;AAC9EZ,cAAQY,OAAOR,QAAf;AACAE,cAAQC,GAAR,CAAYK,MAAZ;AACD,KAHD;AAID,GALM,CAAP;AAMD,CAjBD,EAiBGJ,IAjBH,CAiBQ,UAACI,MAAD,EAAY;AAClB,MAAGA,MAAH,EAAW;AACTC,WAAOf,KAAP,GAAec,MAAf;AACAN,YAAQC,GAAR,CAAYT,KAAZ;AACAgB,oBAAgBF,MAAhB;;AAEA,QAAIG,mBAAmBC,SAASC,aAAT,CAAuB,mBAAvB,CAAvB;AACAF,qBAAiBG,gBAAjB,CAAkC,OAAlC,EAA2C,UAACC,KAAD,EAAW;AACpD,UAAIC,eAAeL,iBAAiBM,KAApC;AACA,UAAIC,kBAAkBC,YAAYzB,KAAZ,EAAmBsB,aAAaI,WAAb,EAAnB,CAAtB;;AAEAV,sBAAgBQ,eAAhB;AACD,KALD;AAMD;AACF,CA/BD;;AAiCA,SAASR,eAAT,CAAyBhB,KAAzB,EAAgC;AAC9B,MAAI2B,aAAaT,SAASC,aAAT,CAAuB,0BAAvB,CAAjB;AACAQ,aAAWC,SAAX,GAAuB,EAAvB;AACA,MAAIC,cAAcX,SAASY,sBAAT,EAAlB;AACA9B,QAAM+B,OAAN,CAAc,UAACC,IAAD,EAAU;AACtB,QAAIC,MAAMf,SAASgB,aAAT,CAAuB,KAAvB,CAAV;AACAD,QAAIE,SAAJ,CAAcC,GAAd,CAAkB,MAAlB;AACA,QAAG,CAACH,IAAII,SAAR,EAAmB;AACjBJ,UAAIK,YAAJ,CAAiB,WAAjB,EAA8B,MAA9B;AACAL,UAAIb,gBAAJ,CAAqB,MAArB,EAA6B,UAACC,KAAD,EAAW;AACtCb,gBAAQC,GAAR,CAAYY,KAAZ;AACD,OAFD;AAGD;AACDY,QAAIL,SAAJ,8EACkEI,KAAKO,SADvE,2FAE2CP,KAAKQ,UAFhD,SAE8DR,KAAKS,SAFnE;AAOAZ,gBAAYa,WAAZ,CAAwBT,GAAxB;AACD,GAjBD;AAkBAN,aAAWe,WAAX,CAAuBb,WAAvB;AACD;;AAED,SAASJ,WAAT,CAAqBkB,KAArB,EAA4BpB,KAA5B,EAAmC;AACjC,MAAIqB,gBAAgB,EAApB;;AAEAD,QAAMZ,OAAN,CAAc,UAACC,IAAD,EAAU;AACtB,QAAGA,KAAKQ,UAAL,CAAgBd,WAAhB,GAA8BmB,OAA9B,CAAsCtB,KAAtC,KAAgD,CAAC,CAApD,EAAuD;AACrDqB,oBAAcE,IAAd,CAAmBd,IAAnB;AACD;AACF,GAJD;;AAMA,SAAOY,aAAP;AACD;;AAED,IAAIG,gBAAgB7B,SAASC,aAAT,CAAuB,6BAAvB,CAApB;AACAF,iBAAiBG,gBAAjB,CAAkC,MAAlC,EAA0C,UAACC,KAAD,EAAW;AACnDA,QAAM2B,cAAN;AACD,CAFD","file":"build.js","sourcesContent":["\"use strict\";\n\nVK.init({\n  apiId: 5629026\n});\n\nlet users;\n\nnew Promise((resolve, reject) => {\n  VK.Auth.login(function(response) {\n    if(response.session) {\n      console.log(response);\n      resolve();\n    } else {\n      console.log(response);\n      reject();\n    }\n  }, 2 | 4);\n}).then(() => {\n  return new Promise((resolve, reject) => {\n    VK.api('friends.get', {fields: 'photo_100', name_case: 'nom'}, function(answer) {\n      resolve(answer.response);\n      console.log(answer);\n    });\n  });\n}).then((answer) => {\n  if(answer) {\n    window.users = answer;\n    console.log(users);\n    createUserBlock(answer);\n\n    var firstFriendInput = document.querySelector(\".firstFriendInput\");\n    firstFriendInput.addEventListener('keyup', (event) => {\n      var searchFriend = firstFriendInput.value;\n      var newArrayOfUsers = filterUsers(users, searchFriend.toLowerCase());\n\n      createUserBlock(newArrayOfUsers);\n    });\n  }\n})\n\nfunction createUserBlock(users) {\n  var usersBlock = document.querySelector('.filter-app-friends-your');\n  usersBlock.innerHTML = \"\";\n  var docFragment = document.createDocumentFragment();\n  users.forEach((user) => {\n    let div = document.createElement('div');\n    div.classList.add('item');\n    if(!div.draggable) {\n      div.setAttribute(\"draggable\", \"true\");\n      div.addEventListener('drag', (event) => {\n        console.log(event);\n      })\n    }\n    div.innerHTML = `\n                      <div class=\"item-logo\" style=\"background: url(${user.photo_100}); background-size: contain;\"></div>\n                      <h3 class=\"item-title\">${user.first_name} ${user.last_name}</h3>\n                      <div class=\"close item-close\">\n                        <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>\n                      </div>\n                    `;\n    docFragment.appendChild(div);\n  })\n  usersBlock.appendChild(docFragment);\n}\n\nfunction filterUsers(array, value) {\n  let filteredArray = [];\n\n  array.forEach((user) => {\n    if(user.first_name.toLowerCase().indexOf(value) != -1) {\n      filteredArray.push(user);\n    }\n  });\n\n  return filteredArray;\n}\n\nvar friendsInList = document.querySelector(\".filter-app-friends-in-list\");\nfirstFriendInput.addEventListener('drop', (event) => {\n  event.preventDefault();\n})\n"],"sourceRoot":"/source/"}